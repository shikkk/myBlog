# 数据双向绑定

## 简单的数据双向绑定实现

```html
<div>内容：<span id="content"></span></div>
<input id="iptName" />
```

```javascript
/**
 * Object.defineProperty 缺点：
 *  1、深度监听需要一次性递归
 *  2、无法监听新增属性、删除属性（需要用vue.set veu.delete）
 *  3、无法原生监听数组，需要特殊处理
 * **/
const iptName = document.getElementById('iptName')
const content = document.getElementById('content')
let obj = {
  name: ''
}
let newObj = JSON.parse(JSON.stringify(obj))
Object.defineProperty(obj, 'name', {
  get() {
    return newObj.name
  },

  set(val) {
    if (val === newObj.name) return
    newObj.name = val
    observer()
  }
})
function observer () {
  iptName.innerText = obj.name
  content.innerText = obj.name
}
iptName.oninput = function () {
  obj.name = this.value
}
```
